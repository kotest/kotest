"use strict";(self.webpackChunkkotestdocs=self.webpackChunkkotestdocs||[]).push([[53097],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=a,f=m["".concat(s,".").concat(u)]||m[u]||c[u]||i;return n?r.createElement(f,o(o({ref:t},d),{},{components:n})):r.createElement(f,o({ref:t},d))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},50984:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={id:"gradle",title:"Conditional tests with Gradle",slug:"conditional-tests-with-gradle.html",sidebar_label:"Gradle"},o=void 0,l={unversionedId:"framework/conditional/gradle",id:"framework/conditional/gradle",title:"Conditional tests with Gradle",description:"Kotest supports multiple ways to filter tests from the command line using Gradle.",source:"@site/docs/framework/conditional/gradle.md",sourceDirName:"framework/conditional",slug:"/framework/conditional/conditional-tests-with-gradle.html",permalink:"/docs/next/framework/conditional/conditional-tests-with-gradle.html",draft:!1,editUrl:"https://github.com/kotest/kotest/blob/master/documentation/docs/framework/conditional/gradle.md",tags:[],version:"current",frontMatter:{id:"gradle",title:"Conditional tests with Gradle",slug:"conditional-tests-with-gradle.html",sidebar_label:"Gradle"},sidebar:"framework",previous:{title:"Exceptions",permalink:"/docs/next/framework/conditional/conditional-exceptions.html"},next:{title:"Isolation Modes",permalink:"/docs/next/framework/isolation-mode.html"}},s={},p=[{value:"Gradle Test Filtering",id:"gradle-test-filtering",level:3},{value:"Kotest Specific Test Filtering",id:"kotest-specific-test-filtering",level:3}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Kotest supports multiple ways to filter tests from the command line using Gradle."),(0,a.kt)("h3",{id:"gradle-test-filtering"},"Gradle Test Filtering"),(0,a.kt)("p",null,"When running Kotest via the JUnit Platform runner through Gradle, Kotest supports the standard Gradle syntax for\ntest filtering. You can enable filtering either in the build script or via the ",(0,a.kt)("inlineCode",{parentName:"p"},"--tests")," command-line option."),(0,a.kt)("p",null,"For example, in the build script:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-groovy"},'tasks.test {\n  filter {\n    //include all tests from package\n    includeTestsMatching("com.somepackage.*")\n  }\n}\n')),(0,a.kt)("p",null,"Or via the command line:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"gradle test --tests 'com.sksamuel.some.package.*'")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"gradle test --tests '*IntegrationTest'")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"gradle test --tests 'com.sksamuel.some.package.MyTestClass.some test name'")),(0,a.kt)("p",null,"See full Gradle documentation ",(0,a.kt)("a",{parentName:"p",href:"https://docs.gradle.org/6.2.2/userguide/java_testing.html#test_filtering"},"here"),"."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Because Gradle's test support is ",(0,a.kt)("inlineCode",{parentName:"p"},"class.method")," based, when filtering to individual tests, we can specify nested tests\nby using the ",(0,a.kt)("inlineCode",{parentName:"p"},"--")," delimiter between test names. For example, ",(0,a.kt)("inlineCode",{parentName:"p"},"--tests 'com.mypackage.MySpec.test -- nested test'"),". Note the\ndelimiter has a space around the double dashes and remember to escape the test path with single quotes.")),(0,a.kt)("h3",{id:"kotest-specific-test-filtering"},"Kotest Specific Test Filtering"),(0,a.kt)("p",null,"For multiplatform testing, Kotest offers its own flag which is provided via an ",(0,a.kt)("strong",{parentName:"p"},"environment variable"),". This flag\nsupport wildcards via ",(0,a.kt)("inlineCode",{parentName:"p"},"*")," and matches either tests or specs using the same syntax as the Gradle format."),(0,a.kt)("p",null,"This example would execute all tests in the ",(0,a.kt)("inlineCode",{parentName:"p"},"com.somepackage")," (and nested) packages by setting the\n",(0,a.kt)("inlineCode",{parentName:"p"},"KOTEST_INCLUDE_PATTERN")," environment variable:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"KOTEST_INCLUDE_PATTERN='com.somepackage.*' gradle test")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"It's best to enclose the value in single quotes rather than double quotes to avoid your shell performing globbing on any\n",(0,a.kt)("inlineCode",{parentName:"p"},"*")," characters.")))}c.isMDXComponent=!0}}]);
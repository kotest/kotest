"use strict";(self.webpackChunkkotestdocs=self.webpackChunkkotestdocs||[]).push([[98868],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(67294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var i=n.createContext({}),u=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,o=e.originalType,i=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),c=u(r),h=s,m=c["".concat(i,".").concat(h)]||c[h]||d[h]||o;return r?n.createElement(m,l(l({ref:t},p),{},{components:r})):n.createElement(m,l({ref:t},p))}));function h(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=r.length,l=new Array(o);l[0]=c;var a={};for(var i in t)hasOwnProperty.call(t,i)&&(a[i]=t[i]);a.originalType=e,a.mdxType="string"==typeof e?e:s,l[1]=a;for(var u=2;u<o;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},56625:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>u});var n=r(87462),s=(r(67294),r(3905));const o={id:"power-assert",title:"Power Assert",sidebar_label:"Power Assert"},l="Power Assert",a={unversionedId:"assertions/power-assert",id:"assertions/power-assert",title:"Power Assert",description:"Power Assert support was introduced in Kotest 6.0 that enhances assertion failure messages by providing detailed",source:"@site/docs/assertions/power-assert.md",sourceDirName:"assertions",slug:"/assertions/power-assert",permalink:"/docs/next/assertions/power-assert",draft:!1,editUrl:"https://github.com/kotest/kotest/blob/master/documentation/docs/assertions/power-assert.md",tags:[],version:"current",frontMatter:{id:"power-assert",title:"Power Assert",sidebar_label:"Power Assert"},sidebar:"assertions",previous:{title:"Partial Matches",permalink:"/docs/next/assertions/similarity.html"},next:{title:"Clues",permalink:"/docs/next/assertions/clues.html"}},i={},u=[{value:"How It Works",id:"how-it-works",level:2},{value:"Setup",id:"setup",level:2},{value:"With the Gradle Plugin",id:"with-the-gradle-plugin",level:3},{value:"Adding the Plugin Manually",id:"adding-the-plugin-manually",level:3}],p={toc:u};function d(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"power-assert"},"Power Assert"),(0,s.kt)("p",null,"Power Assert support was introduced in Kotest 6.0 that enhances assertion failure messages by providing detailed\ninformation about the values of each part of an expression when an assertion fails. This makes it easier to understand\nwhy an assertion failed without having to add additional debug statements."),(0,s.kt)("h2",{id:"how-it-works"},"How It Works"),(0,s.kt)("p",null,"When an assertion fails, Power Assert shows the values of each part of the expression in the error message, making it\nclear what went wrong. This is particularly useful for complex expressions with method calls or property access chains."),(0,s.kt)("p",null,"For example, consider this assertion:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'val hello = "Hello"\nval world = "world!"\nhello.substring(1, 3) shouldBe world.substring(1, 4)\n')),(0,s.kt)("p",null,"Without Power Assert, the error message would simply be:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'expected:<"orl"> but was:<"el">\n')),(0,s.kt)("p",null,"With Power Assert enabled, the error message becomes much more informative:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'hello.substring(1, 3) shouldBe world.substring(1, 4)\n|     |                        |     |\n|     |                        |     orl\n|     |                        world!\n|     el\nHello\n\nexpected:<"orl"> but was:<"el">\n')),(0,s.kt)("p",null,"This detailed output shows the values of each part of the expression, making it immediately clear what's happening:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"hello"),' is "Hello"'),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"hello.substring(1, 3)"),' is "el"'),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"world"),' is "world!"'),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"world.substring(1, 4)"),' is "orl"')),(0,s.kt)("h2",{id:"setup"},"Setup"),(0,s.kt)("p",null,"Power Assert is implemented as a Kotlin compiler plugin that's part of Kotlin 2.0+. To use with Kotest you have two\noptions."),(0,s.kt)("h3",{id:"with-the-gradle-plugin"},"With the Gradle Plugin"),(0,s.kt)("p",null,"If using Kotest 6.2 and higher, and the Kotest Gradle plugin is enabled, then the plugin will automatically configure\nPower Assert for you if required."),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"Add the Kotest Gradle plugin to your build:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'plugins {\n  id("io.kotest") version "<kotest-version>"\n}\n')),(0,s.kt)("ol",{start:2},(0,s.kt)("li",{parentName:"ol"},"Configure the Kotest Gradle plugin to enable Power Assert:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},"kotest {\n  enablePowerAssert = true\n}\n")),(0,s.kt)("h3",{id:"adding-the-plugin-manually"},"Adding the Plugin Manually"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"Add the Power Assert plugin to your build:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'plugins {\n  id("org.jetbrains.kotlin.plugin.power-assert") version "<kotlin-version>"\n}\n')),(0,s.kt)("ol",{start:2},(0,s.kt)("li",{parentName:"ol"},"Add the Assertions library to your dependencies:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'dependencies {\n  testImplementation("io.kotest:kotest-assertions-core:<kotest-version>")\n}\n')),(0,s.kt)("ol",{start:3},(0,s.kt)("li",{parentName:"ol"},"Configure which assertion functions should be enhanced with Power Assert, which in this case is the Kotest ",(0,s.kt)("inlineCode",{parentName:"li"},"shouldBe"),"\nmatchers:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-kotlin"},'powerAssert {\n  functions = listOf("io.kotest.matchers.shouldBe")\n}\n')))}d.isMDXComponent=!0}}]);
name: docs-test

on:
   workflow_call:
      inputs:
         ref:
            description: "The git branch, tag or SHA to checkout"
            required: false
            type: string

permissions:
   contents: read

jobs:
   build:
      runs-on: ubuntu-latest
      steps:
         -  uses: actions/checkout@v3
            with:
               fetch-depth: 0
               ref: ${{ inputs.ref }}
         -  uses: actions/setup-node@v3
            with:
               node-version: '18.4.0'
         -  name: Build static docusaurus pages
            run: |
               npm --prefix documentation ci
               npm --prefix documentation run build

